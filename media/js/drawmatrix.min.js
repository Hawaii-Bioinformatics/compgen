function drawMatrix(a,b){d3.json(a,function(r,o){var v=o.mtrx,m={top:200,right:50,bottom:100,left:250},q=1010-m.left-m.right,n=2048-m.top-m.bottom,j=["black","white","blue","green","yellow","#CC0000","#FF0000"],w=["white","blue","green","yellow","red"],d=d3.max(v,function(x){return x.value}),s=o.yaxis,f=o.xaxis;var g=d3.max(v,function(x){return x.p1}),e=d3.max(v,function(x){return x.p2});var k=Math.floor(q/e);var i=k*g;var u=d3.scale.linear().domain([0,1,d/4,d/2,(d/4)*3,d-1,d]).range(j);if(d==1){u=d3.scale.linear().domain([0,d/4,d/2,(d/4)*3,d]).range(w)}var p=d3.select("#chart").append("svg").attr("width",q+m.left+m.right).attr("height",n+m.top+m.bottom).append("g").attr("transform","translate("+m.left+","+m.top+")");var h=p.selectAll(".yAxisLabel").data(s).enter().append("text").text(function(x){return x[1]}).attr("x",0).attr("y",function(y,x){return(x-1)*k}).style("text-anchor","end").attr("transform","translate(-30,"+k/1.5+")").attr("class",function(y,x){return"yAxisLabel mono axis axis-workweek"});var t=d3.scale.ordinal().domain(d3.range(e+1)).rangeBands([0,q],-0.5);var c=p.selectAll(".xAxisabel").data(f).enter().append("g").attr("x",function(y,x){return(x-1)*k}).attr("y",0).attr("transform",function(y,x){return"translate("+t(x)+", -30)"});c.append("text").text(function(x){return x[1]}).style("text-anchor","start").attr("transform",function(x){return"rotate(-65,0,0)"}).attr("class",function(y,x){return"timeLabel mono axis axis-worktime"});var l=p.selectAll(".hour").data(v).enter().append("rect").attr("x",function(x){return(x.p2-1)*k}).attr("y",function(x){return(x.p1-1)*k}).attr("rx",4).attr("ry",4).attr("class","hour bordered").attr("width",k).attr("height",k).style("fill",j[0]);l.transition().duration(1000).style("fill",function(x){return u(x.value)});l.append("title").text(function(x){return x.value});l.on("click",function(x){if(s[x.p1][1]!=f[x.p2][1]){document.location=b+"summary/"+s[x.p1][1]+"/"+f[x.p2][1]+"/"}})})};