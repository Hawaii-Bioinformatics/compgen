$.fn.dataTable.ext.search.push(function(b,c,a){if($(document).data("mysite.show").length==0){return true}return $(document).data("mysite.show")[parseInt(c[0])]});function populate(b,a){$(document).data("mysite.show",[]);$(document).data("mysite.table",$("#example").dataTable({ajax:b,deferRender:true,iDisplayLength:50,}));$(document).data("d3chart.fill",d3.scale.category20());$.get(a,"",function(c){$(document).data("d3chart.gos",c.goid);d3.layout.cloud().size([500,620]).words(c.cloud.map(function(e){return{text:e[0],size:10+((e[1]/c.total)*50)}})).padding(5).rotate(function(){return ~~(Math.random()*2)*90}).font("Impact").fontSize(function(e){return e.size}).on("end",draw).start();$("#cloud").html(c)},"json")}function draw(a){d3.select("#vis").append("svg").attr("width",500).attr("height",620).append("g").attr("transform","translate(250,310)").selectAll("text").data(a).enter().append("text").style("font-size",function(b){return b.size+"px"}).style("font-family","Impact").style("fill",function(c,b){return $(document).data("d3chart.fill")(b)}).attr("text-anchor","middle").on("click",function(c,b){filterGo($(document).data("d3chart.gos")[c.text],c.text)}).attr("transform",function(b){return"translate("+[b.x,b.y]+")rotate("+b.rotate+")"}).text(function(b){return b.text})}function filterGoReset(){$(document).data("mysite.show",[]);$(document).data("mysite.table").fnDraw();$("#filteredOn").html("None")}function filterGo(b,a){$.get(b,"",function(c){$(document).data("mysite.show",c);$(document).data("mysite.table").fnDraw();$("#filteredOn").html(a)},"json")};